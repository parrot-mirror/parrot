grammar TGE::Parser;

token start { ^ <TGE::Parser::statements> $ }

rule statements { <TGE::Parser::transrule>* }

rule transrule {
    <TGE::Parser::type> \: <TGE::Parser::attrdef>
}
    
rule attrdef {
    <TGE::Parser::name> <TGE::Parser::parenlist> \= <TGE::Parser::codeblock>
}

rule parenlist {
    \( (<-[)]>*) \)
}

rule codeblock {
    \{ (<-[}]>*) \}
}

token type {
    [ \:\: ]? \w+ [ \:\: \w+ ]*
}

token name { (\w+) }

token ws {
    [ \s+
    | \# \N*
    ]*
}
