# $Id$

# setup of commands
@make_set_make@
PERL      = @perl@
MAKE      = @make@
RM_F      = @rm_f@

# add new languages here
# remove obsolete languages here
EXT = \
    Parrot-Embed

# the default target
all: $(EXT)

# hard-code these for now
test: Parrot-Embed
	- cd Parrot-Embed && $(MAKE) test


# This is a listing of all targets, that are meant to be called by users
help:
	@echo ""
	@echo "Following targets are available for the user:"
	@echo ""
	@echo "  all:          Make a lot of language implementations."
	@echo "                This is the default."
	@echo "  test:         Unified test suite for a lot of languages."
	@echo ""
	@echo "  installable:  Create self-hosting bins and libs."
	@echo ""
	@echo "  test-installable: Test self-hosting bins and libs."
	@echo ""
	@echo "  install:      Make install for a lot of languages."
	@echo ""
	@echo "  clean:        Clean up a lot of languages."
	@echo "  realclean:    Clean up and remove Makefiles."
	@echo ""
	@echo "  help:         Print this help message."
	@echo ""
	@echo "  smoke:        Run the test suite and send smoke.html to "
	@echo "                http://smoke.parrotcode.org/"
	@echo ""
	@echo "  smoke-clean:  clean up smoke.html"
	@echo ""
	@echo ""
	@echo "Following languages are available:"
	@echo "  $(LANGUAGES)"
	@echo "  make <lang>"
	@echo "  make <lang>.test"
	@echo "  make <lang>.installable"
	@echo "  make <lang>.test-installable"
	@echo "  make <lang>.install"
	@echo "  make <lang>.clean"
	@echo "  make <lang>.realclean"
	@echo "For the status of individual languages see LANGUAGES_STATUS.pod"
	@echo ""

clean: \
    Parrot-Embed.clean

#
# Extension specific targets
#

# The *.dummy targets are a replacement for the target .PHONY in 'GNU make'

Parrot-Embed : Parrot-Embed.dummy

Parrot-Embed.dummy:
#IF(win32):	- cd Parrot-Embed && $(PERL) Makefile.PL && nmake
#ELSE:	- cd Parrot-Embed && $(PERL) Makefile.PL && $(MAKE)

Parrot-Embed.clean:
#IF(win32):	- cd Parrot-Embed && nmake clean
#ELSE:	- cd Parrot-Embed && $(MAKE) clean

#
# Local variables:
# mode: makefile
# ex: ft=make
# End:
